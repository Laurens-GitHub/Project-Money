{% extends 'base.html' %}

{% block title %}My Watchlist{% endblock %}

{% block head%}
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
{%endblock%}

{% block body %}

<h1>{{our_user}}'s Watchlist</h1>
{% if saved_stocks == None%}
    <p>You haven't saved any favorites to your list yet.</p>
    <img src="https://media4.giphy.com/media/26hkhPJ5hmdD87HYA/giphy.gif">

{% else %}
<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th scope="col">Symbol</th>
            <th scope="col">Name</th>
            <th scope="col">Date Saved</th>
        </tr>
    </thead>
    <tbody>
    {% for stock in saved_stocks %}
        <tr>
            <td><a href="http://localhost:5000/quote?search={{stock}}" target="_blank" rel="noopener noreferrer">{{stock}}</a></td>
            <td><a href="http://localhost:5000/quote?search={{stock}}" target="_blank" rel="noopener noreferrer">{{saved_stocks[stock][0]}}</a></td>
            <td>{{saved_stocks[stock][1]}}</td>
            <td>
                <i class="bi bi-star-fill"></i>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

    {% endif %}
<script src="/static/js/stock.js"></script>

{% endblock %}
